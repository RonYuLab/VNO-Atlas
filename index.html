<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mus Musculus Vomeronasal Organ Analysis</title>
  <style>
    body {
      background-color: white;
      font-family: Arial, sans-serif;
    }

    .title-background {
      position: relative;
      text-align: center;
      margin-bottom: 10px;
    }

    .title-background img {
      width: 100%;
      max-height: 500px;
      object-fit: cover;
    }

    .centered-title {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 3.5em;
      color: black;
      width: 100%;
      white-space: nowrap;
    }

    .header-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .header-container img {
      width: 150px; /* Increase the width */
      height: auto;
      margin: 0 20px; /* Add margins to space the images away from the tabs */
    }

    .tabs {
      flex-grow: 1; /* Ensure the tabs take up the remaining space */
      display: flex;
      justify-content: center;
      gap: 10px; /* Adjust gap for better spacing */
    }

    .tab-button {
      padding: 15px 30px; /* Increase padding for larger buttons */
      font-size: 1.2em;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      flex: 1;
      text-align: center;
      max-width: none; /* Remove max-width to allow full width */
    }

    .tab-button.active {
      background-color: #0056b3;
    }

    .tab-content {
      display: none;
      padding: 20px;
    }

    .tab-content.active {
      display: block;
    }

    .paper-summary {
      font-size: 1.2em;
      line-height: 1.5em;
    }

    .figure-container,
    .supplemental-figure-container {
      display: flex;
      flex-direction: row;
      gap: 10px;
      justify-content: center;
    }

    .figure-container .figure-item,
    .supplemental-figure-container .figure-item {
      width: 300px;
      text-align: center;
    }

    .figure-container img,
    .supplemental-figure-container img {
      width: 100%; 
      height: auto;
      cursor: pointer;
      border: 1px solid #ddd;
      border-radius: 5px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }

    .figure-container img:hover,
    .supplemental-figure-container img:hover {
      transform: scale(1.05);
    }

    .figure-container .figure-label,
    .supplemental-figure-container .figure-label {
      font-weight: bold;
      text-decoration: underline;
      margin-bottom: 5px;
      display: block;
    }

    .button-container {
      display: flex; /* Use flexbox to arrange buttons */
      flex-wrap: wrap; /* Allow buttons to wrap to the next line */
      justify-content: center; /* Center buttons horizontally */
      gap: 20px;
    }

    .button-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .button-group-title {
      font-size: 1.5em;
      margin-bottom: 10px;
      text-align: center;
    }

    .button-container a { /* Re-add button styling */
        display: inline-block;
        padding: 10px 20px;
        margin: 5px;
        background-color: #007BFF;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        text-align: center;
        width: 100%;
        box-sizing: border-box;
        flex: 0 0 calc(25% - 20px); /* Each button takes up 25% of the container, minus some margin */
        max-width: 300px;
    }

    .button-container a:hover {
      background-color: #0056b3;
    }

    .table-container { /* New container for tables */
      display: none; /* Hide by default */
      position: fixed; /* Overlay on top of other content */
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
      z-index: 1000; /* Ensure the table is on top */
    }

    .table-content {
      background-color: white;
      margin: 10% auto; /* Center the table with margins */
      padding: 20px;
      border-radius: 10px;
      width: 80%; /* Adjust width as needed */
      max-height: 80%;
      overflow-y: auto; /* Enable scrollbar if table content is too long */
    }

    .table-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
  </style>
  <script>
    function openTab(evt, tabName) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tab-content");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tab-button");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      document.getElementById(tabName).style.display = "block";
      evt.currentTarget.className += " active";
    }

    function fetchAndDisplayCSV(url, title) {
      const rawUrl = url.replace('data.tables/', 'https://raw.githubusercontent.com/RonYuLab/VNO-Atlas/main/data.tables/'); 

      fetch(rawUrl)
        .then(response => response.text())
        .then(data => {
          const tableContainer = document.createElement('div');
          tableContainer.classList.add('table-container');

          const tableContent = document.createElement('div');
          tableContent.classList.add('table-content');
          tableContent.innerHTML = `
            <div class="table-header">
              <h2>${title}</h2>
              <button onclick="closeTable()">Back</button>
            </div>
            ${csvToTable(data)}
          `;

          tableContainer.appendChild(tableContent);
          document.body.appendChild(tableContainer);

          document.querySelectorAll('.tab-content').forEach(tab => {
            tab.style.display = 'none';
          });
        })
        .catch(error => console.error('Error fetching the CSV file:', error));
    }

    function closeTable() {
      const tableContainer = document.querySelector('.table-container');
      if (tableContainer) {
        document.body.removeChild(tableContainer);
        document.querySelectorAll('.tab-content').forEach(tab => {
          if (tab.id === 'Tables') {
            tab.style.display = 'block';
          }
        });
      }
    }

    function csvToTable(csvText) {
      const rows = csvText.split('\n');
      let table = '<table border="1" style="width:100%">'; // Make table full width
      rows.forEach(row => {
        table += '<tr>';
        const cols = row.split(',');
        cols.forEach(col => {
          table += `<td>${col.trim()}</td>`;
        });
        table += '</tr>';
      });
      table += '</table>';
      return table;
    }
  </script>
</head>
<body>
  <div class="title-background">
    <img src="images/Layer1.jpg" alt="Background Image">
    <h1 class="centered-title">Mus Musculus Vomeronasal Organ Analysis</h1>
  </div>

  <div class="header-container">
    <img src="https://raw.githubusercontent.com/RonYuLab/VNO-Atlas/main/images/yu-lab-logo.jpeg" alt="Yu Lab Logo">  
    <div class="tabs">
      <button class="tab-button active" onclick="openTab(event, 'Summary')">Summary</button>
      <button class="tab-button" onclick="openTab(event, 'Figures')">Figures</button>
      <button class="tab-button" onclick="openTab(event, 'SupplementalFigures')">Supplemental Figures</button>
      <button class="tab-button" onclick="openTab(event, 'Tables')">Tables</button>
    </div>
    <img src="https://raw.githubusercontent.com/RonYuLab/VNO-Atlas/main/images/cute_mouse.jpeg" alt="Cute Mouse">
  </div>

  <div id="Summary" class="tab-content active">
    <div class="paper-summary">
      <h2>Molecular, Cellular, and Developmental Organization of the Mouse Vomeronasal Organ at Single Cell Resolution</h2>
      <p>Max Hills Jr., Limei Ma, Ai Fang, Thelma Chiremba, Seth Malloy, Allison Scott, Anoja Perera, and C. Ron Yu</p>
      <p>Stowers Institute for Medical Research, 1000 E. 50th Street, Kansas City, MO 64110, USA</p>
      <p>* Correspondence: ryu@stowers.org</p>
      <h3>SUMMARY</h3>
      <p>We have generated single cell transcriptomic atlases of vomeronasal organs (VNO) from juvenile and adult mice. Combined with spatial molecular imaging, we uncover a distinct, previously unidentified class of cells that express the vomeronasal receptors and a population of canonical olfactory sensory neurons in the VNO. High resolution trajectory and cluster analyses reveal the lineage relationship, spatial distribution of cell types, and a putative cascade of molecular events that specify the V1r, V2r, and OR lineages from a common stem cell population. The expression of vomeronasal and olfactory receptors follow power law distributions, but there is high variability in average expression levels between individual receptor and cell types. Substantial co-expression is found between receptors across clades, from different classes, and between olfactory and vomeronasal receptors, with nearly half from pairs located on the same chromosome. Interestingly, the expression of V2r, but not V1r, genes is associated with various transcription factors, suggesting distinct mechanisms of receptor choice associated with the two cell types. We identify association between transcription factors, surface axon guidance molecules, and individual VRs, thereby uncovering a molecular code that guides the specification of the vomeronasal circuitry. Our study provides a wealth of data on the development and organization of the accessory olfactory system at both cellular and molecular levels to enable a deeper understanding of vomeronasal system function.</p>
    </div>
  </div>

  <div id="Figures" class="tab-content">
    <div class="figure-container">
      <div class="figure-item">
        <span class="figure-label">Figure 1</span>
        <a href="Figure_HTMLs/Figure_1.nb.html"><img src="Paper Figures/Figure_1_20231220.jpg" alt="Figure 1"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Figure 2</span>
        <a href="Figure_HTMLs/Figure_2.nb.html"><img src="Paper Figures/Figure_2_20231220.jpg" alt="Figure 2"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Figure 3</span>
        <a href="Figure_HTMLs/Figure_3.nb.html"><img src="Paper Figures/Figure_3_20231207.jpg" alt="Figure 3"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Figure 4</span>
        <a href="Figure_HTMLs/Figure_4.nb.html"><img src="Paper Figures/Figure_4_20231205.jpg" alt="Figure 4"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Figure 5</span>
        <a href="Figure_HTMLs/Figure_5.nb.html"><img src="Paper Figures/FIgure_5_20231205.jpg" alt="Figure 5"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Figure 6</span>
        <a href="Figure_HTMLs/Figure_6.nb.html"><img src="Paper Figures/Figure_6_20231031.jpg" alt="Figure 6"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Figure 7</span>
        <a href="Figure_HTMLs/Figure_7.nb.html"><img src="Paper Figures/Figure_7_20231211.jpg" alt="Figure 7"></a>
      </div>
    </div>
  </div>

  <div id="SupplementalFigures" class="tab-content">
    <div class="supplemental-figure-container">
      <div class="figure-item">
        <span class="figure-label">Supplemental Figure 1</span>
        <a href="Figure_HTMLs/Figure_S1.nb.html"><img src="Supplemental Figures/Figure_S1_2023_1031.jpg" alt="Supplemental Figure 1"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Supplemental Figure 2</span>
        <a href="Figure_HTMLs/Figure_S2.nb.html"><img src="Supplemental Figures/Figure_S2_2023_1127.jpg" alt="Supplemental Figure 2"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Supplemental Figure 3</span>
        <a href="Figure_HTMLs/Figure_S3.nb.html"><img src="Supplemental Figures/Figure_S3_2023_1127.jpg" alt="Supplemental Figure 3"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Supplemental Figure 4</span>
        <a href="Figure_HTMLs/Figure_S4.nb.html"><img src="Supplemental Figures/Figure_S4_2023_1102_rev.jpg" alt="Supplemental Figure 4"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Supplemental Figure 5</span>
        <a href="Figure_HTMLs/Figure_S5.nb.html"><img src="Supplemental Figures/Figure_S5_2023_1127.jpg" alt="Supplemental Figure 5"></a>
      </div>
      <div class="figure-item">
        <span class="figure-label">Supplemental Figure 6</span>
        <a href="Figure_HTMLs/Figure_S6.nb.html"><img src="Supplemental Figures/Figure_S6_2023_1127.jpg" alt="Supplemental Figure 6"></a>
      </div>
    </div>
  </div>

  <div id="Tables" class="tab-content">
    <div class="button-container">
      <div class="button-group">
        <div class="button-group-title">Vomeronasal Receptor Coexpression</div>
        <a href="data.tables/sig.VR.coexpression.csv" onclick="fetchAndDisplayCSV(this.href, 'VR Coexpression'); return false;">VR Coexpression</a>
        <a href="data.tables/sig.VR.AG.coexpression.csv" onclick="fetchAndDisplayCSV(this.href, 'VR AG Coexpression'); return false;">VR AG Coexpression</a>
        <a href="data.tables/sig.VR.TF.coexpression.csv" onclick="fetchAndDisplayCSV(this.href, 'VR TF Coexpression'); return false;">VR TF Coexpression</a>
        <a href="data.tables/sig.VR.AG_TF.csv" onclick="fetchAndDisplayCSV(this.href, 'VR AG TF Coexpression'); return false;">VR AG TF Coexpression</a>
      </div>
      <div class="button-group">
        <div class="button-group-title">Neuronal Lineage Determinants</div>
        <a href="data.tables/sig.early_INP_V1R_vs_V2R.csv" onclick="fetchAndDisplayCSV(this.href, 'Early INP V1R vs V2R Genes'); return false;">Early INP V1R vs V2R Genes</a>
        <a href="data.tables/sig.late_INP_V1R_vs_V2R.csv" onclick="fetchAndDisplayCSV(this.href, 'Late INP V1R vs V2R Genes'); return false;">Late INP V1R vs V2R Genes</a>
        <a href="data.tables/sig.iVSN_V1R_vs_V2R.csv" onclick="fetchAndDisplayCSV(this.href, 'iVSN V1R vs V2R Genes'); return false;">iVSN V1R vs V2R Genes</a>
        <a href="data.tables/sig.GO.iVSN_V1R_vs_V2R.csv" onclick="fetchAndDisplayCSV(this.href, 'iVSN V1R vs V2R GO Terms'); return false;">iVSN V1R vs V2R GO Terms</a>
        <a href="data.tables/sig.mVSN_V1R_vs_V2R.csv" onclick="fetchAndDisplayCSV(this.href, 'mVSN V1R vs V2R Genes'); return false;">mVSN V1R vs V2R Genes</a>
        <a href="data.tables/sig.GO.mVSN_V1R_vs_V2R.csv" onclick="fetchAndDisplayCSV(this.href, 'mVSN V1R vs V2R GO Terms'); return false;">mVSN V1R vs V2R GO Terms</a>
        <a href="data.tables/sig.early_INP_V1R_vs_OSN.csv" onclick="fetchAndDisplayCSV(this.href, 'Early INP V1R vs OSN Genes'); return false;">Early INP V1R vs OSN Genes</a>
        <a href="data.tables/sig.late_INP_V1R_vs_OSN.csv" onclick="fetchAndDisplayCSV(this.href, 'Late INP V1R vs OSN Genes'); return false;">Late INP V1R vs OSN Genes</a>
        <a href="data.tables/sig.mVSN_V1R_vs_mOSN.csv" onclick="fetchAndDisplayCSV(this.href, 'mVSN V1R vs mOSN Genes'); return false;">mVSN V1R vs mOSN Genes</a>
        <a href="data.tables/sig.GO.mVSN_V1R_vs_mOSN.csv" onclick="fetchAndDisplayCSV(this.href, 'mVSN V1R vs mOSN GO Terms'); return false;">mVSN V1R vs mOSN GO Terms</a>
        <a href="data.tables/sig.early_INP_V2R_vs_OSN.csv" onclick="fetchAndDisplayCSV(this.href, 'Early INP V2R vs OSN Genes'); return false;">Early INP V2R vs OSN Genes</a>
        <a href="data.tables/sig.late_INP_V2R_vs_OSN.csv" onclick="fetchAndDisplayCSV(this.href, 'Late INP V2R vs OSN Genes'); return false;">Late INP V2R vs OSN Genes</a>
        <a href="data.tables/sig.mVSN_V2R_vs_mOSN.csv" onclick="fetchAndDisplayCSV(this.href, 'mVSN V2R vs mOSN Genes'); return false;">mVSN V2R vs mOSN Genes</a>
        <a href="data.tables/sig.GO.mVSN_V2R_vs_mOSN.csv" onclick="fetchAndDisplayCSV(this.href, 'mVSN V2R vs mOSN GO Terms'); return false;">mVSN V2R vs mOSN GO Terms</a>
      </div>
      <div class="button-group">
        <div class="button-group-title">sVSN Analysis</div>
        <a href="data.tables/sig.mVSN_V1R_vs_sVSN.csv" onclick="fetchAndDisplayCSV(this.href, 'mVSN V1R vs sVSN Genes'); return false;">mVSN V1R vs sVSN Genes</a>
        <a href="data.tables/Table_S2_Gene_sets.csv" onclick="fetchAndDisplayCSV(this.href, 'mVSN V1R vs sVSN GO Terms'); return false;">mVSN V1R vs sVSN GO Terms</a>
        <a href="data.tables/Table_S1_Sequencing_Statistics.csv" onclick="fetchAndDisplayCSV(this.href, 'mVSN V2R vs sVSN Genes'); return false;">mVSN V2R vs sVSN Genes</a>
        <a href="data.tables/Table_S2_Gene_sets.csv" onclick="fetchAndDisplayCSV(this.href, 'mVSN V2R vs sVSN GO Terms'); return false;">mVSN V2R vs sVSN GO Terms</a>
        <a href="data.tables/Table_S1_Sequencing_Statistics.csv" onclick="fetchAndDisplayCSV(this.href, 'mOSN vs sVSN Genes'); return false;">mOSN vs sVSN Genes</a>
        <a href="data.tables/Table_S2_Gene_sets.csv" onclick="fetchAndDisplayCSV(this.href, 'mOSN vs sVSN GO Terms'); return false;">mOSN vs sVSN GO Terms</a>
      </div>
    </div>
  </div>
</body>
</html>
